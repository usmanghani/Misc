CLEAR
DEAC WIND ALL
RELE WIND ALL
SET STAT BAR OFF
ON ERROR DO ERRORHANDLER IN UTILITY
ON KEY LABEL ESCAPE DO GETOUT IN UTILITY
SET TALK OFF
SET SAFETY OFF
SET CENTURY ON
SET BLINK OFF
SET DATE BRITISH
CLOSE ALL
CLEAR
USE XYZ
DO CASE
CASE CHOICE=1
   CLEAR
   CHOI=1
CASE choice=2
   CLEAR
   CHOI=2
   DO GETINPUT IN WINDOW
   @ 2,5 SAY "ENTER THE MONTH (1-12): " FONT "ARIAL",12 STYLE "BT";
      GET INPUT DEFA 1 RANGE 1,12;
      FONT "ARIAL",12 STYLE "B" FUNCTION "K"
   READ
   RELE WIND W2
ENDCASE
DO DP IN WINDOW
IF dp='P'
   RELEASE WINDOW w1
   DO print IN RSUMMARY
ELSE
   DO DISP IN RSUMMARY
ENDIF

PROCEDURE DISP
DEAC WIND ALL
RELE WIND ALL
CLEAR
SET STAT BAR OFF

DEFINE WINDOW RSUMMARY AT 3,0 SIZE 30,120;
   NONE;
   GROW;
   FLOAT;
   ZOOM;
   CLOSE;
   MINIMIZE;
   TITLE "SUMMARY TIME TABLE DISPLAY FOR "+ALLTRIM(city)+" FOR THE YEAR "+ALLTRIM(STR(YEAR(DATE)));
   FOOTER "***DESIGNED BY MUHAMMAD REHAN QADRI***";
   FONT "ARIAL",10


ACTIVATE WINDOW RSUMMARY
MOVE WINDOW RSUMMARY CENTER

CLEAR
IF CHOICE=1
SELECT DAY(DATE) AS DATE,UPPER(SUBSTR(CDOW(DATE),1,3)) AS DAY,UPPER(LEFT(CMONTH(DATE),3)) AS MONTH,;
subh_sadiq AS FAJR,TULU,ZAWAL,N_NAHAR AS ZOHAR,ASR_SHAFI,ASR_HANFI,GROOB,ISHA;
WHERE DAY(DATE)%5=0 OR ( DAY(DATE)=28 AND MONTH(DATE)=2 ) ;
FROM XYZ INTO TABLE TEMP

BROWS;
NOEDIT NODELE NOAPPEND
ENDIF

IF CHOICE=2
SELECT DAY(DATE) AS DATE,UPPER(SUBSTR(CDOW(DATE),1,3)) AS DAYS,UPPER(LEFT(CMONTH(DATE),3)) AS MONTH,;
subh_sadiq AS FAJR,TULU,ZAWAL,N_NAHAR AS ZOHAR,ASR_SHAFI,ASR_HANFI,GROOB,ISHA;
WHERE MONTH(DATE)=INPUT AND ( DAY(DATE)%5=0 OR ( DAY(DATE)=28 AND MONTH(DATE)=2 ) );
FROM XYZ INTO TABLE TEMP

BROWS;
NOEDIT NODELE NOAPPEND
ENDIF
CLEAR
DEAC WIND RSUMMARY
RELEASE WINDOW RSUMMARY
RELEASE WINDOW w1
CLOS ALL
RETURN


PROCEDURE PRINT
SET DECIMAL TO 0
USE XYZ
CLEAR
DO CASE
CASE CHOI=1
MDT1=0
MDT2=0
CHO=0
REPORT FORM XYZ PREV FOR DAY(DATE)%5=0 OR (DAY(DATE)=28 AND MONTH(DATE)=2)
REPORT FORM XYZ TO PRINT PROMPT FOR DAY(DATE)%5=0 OR (DAY(DATE)=28 AND MONTH(DATE)=2)
CLEAR WIND
CLEAR
CASE CHOI=2
MDT1=0
MDT2=0

CHO=0
REPORT FORM XYZ PREV FOR MONTH(DATE)=INPUT AND (DAY(DATE)%5=0 OR (DAY(DATE)=28 AND MONTH(DATE)=2))
REPORT FORM XYZ TO PRINT PROMPT FOR MONTH(DATE)=INPUT AND (DAY(DATE)%5=0 OR (DAY(DATE)=28 AND MONTH(DATE)=2))
CLEAR WIND
CLEAR
ENDCASE