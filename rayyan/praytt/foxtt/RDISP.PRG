CLEAR
DEAC WIND ALL
RELE WIND ALL
SET STAT BAR OFF
SET TALK OFF
SET CENTURY ON
ON ERROR DO ERRORHANDLER IN UTILITY
ON KEY LABEL ESCAPE DO GETOUT IN UTILITY
SET BLINK OFF
ON ERROR DO ERRORHANDLER IN UTILITY
ON KEY LABEL ESCAPE DO GETOUT IN UTILITY
SET DATE BRITISH
CLOSE ALL
CLEAR
USE XYZ
DO CASE
CASE CHOICE=1
CLEAR
CHO=1

CASE CHOICE=2
CLEAR
CHO=2
DO GETINPUT IN WINDOW
@ 2,10 SAY "ENTER THE MONTH (1-12): " FONT "ARIAL",12 STYLE "BT";
GET MAHINA DEFA 1 RANGE 1,12;
FONT "ARIAL",12 STYLE "B" FUNCTION "K"
READ
RELE WIND W2

CASE CHOICE=3
CLEAR
CHO=3
DO GETINPUT IN WINDOW
@ 2,10 SAY "ENTER THE MONTH (1-12): " FONT "ARIAL",12 STYLE "BT";
GET MAHINA DEFA 1 RANGE 1,12;
FONT "ARIAL",12 STYLE "B" FUNCTION "K"
@ 4,10 SAY "ENTER THE DAY (1-31): " FONT "ARIAL",12 STYLE "BT";
GET DIN DEFA 1 RANGE 1,31;
FONT "ARIAL",12 STYLE "B" FUNCTION "K"
READ
RELE WIND W2

CASE CHOICE=4
CLEAR
CHO=4
DO GETINPUT IN WINDOW
@ 2,10 SAY "FROM (DATE 1):" FONT "ARIAL",12 STYLE "BT";
GET MDT1 DEFA CTOD('01/01/'+ALLTRIM(STR(YEAR(DATE))));
FONT "ARIAL",12 STYLE "B" FUNCTION "K"
@ 4,10 SAY "TO (DATE 2)    :" FONT "ARIAL",12 STYLE "BT";
GET MDT2 DEFA CTOD('31/12/'+ALLTRIM(STR(YEAR(DATE))));
FONT "ARIAL",12 STYLE "B" FUNCTION "K"
READ
RELE WIND W2

CASE CHOICE=5
CLEAR
CHO=5
DO GETINPUT IN WINDOW
@ 1,10 SAY "ENTER RAMADAN PERIOD" FONT "ARIAL",12 STYLE "BT"
@ 4,10 SAY "FROM (DATE 1):" FONT "ARIAL",12 STYLE "BT";
GET MDT1 DEFA CTOD('01/01/'+ALLTRIM(STR(YEAR(DATE))));
FONT "ARIAL",12 STYLE "B" FUNCTION "K"

@ 6,10 SAY "TO (DATE 2)    :" FONT "ARIAL",12 STYLE "BT";
GET MDT2 DEFA CTOD('31/01/'+ALLTRIM(STR(YEAR(DATE))));
FONT "ARIAL",12 STYLE "B" FUNCTION "K"
READ
RELE WIND W2
ENDCASE
DO DP IN WINDOW

IF DP='P'
RELEASE WINDOW W1
DO PRINT IN RDISP
ELSE
DO DISP IN RDISP
ENDIF

PROCEDURE DISP
DEAC WIND ALL
RELE WIND ALL
CLEAR
SET STAT BAR OFF

DEFINE WINDOW RDISP AT 3,0 SIZE 30,120;
   NONE;
   GROW;
   FLOAT;
   ZOOM;
   CLOSE;
   MINIMIZE;
   TITLE "TIME TABLE DISPLAY FOR "+ALLTRIM(city)+" FOR THE YEAR "+ALLTRIM(STR(YEAR(DATE)));
   FOOTER "***DESIGNED BY MUHAMMAD REHAN QADRI***";
   FONT "ARIAL",10

ACTI WIND RDISP
MOVE WIND RDISP CENT

IF CHO=1				&&DISPLAY FOR COMLETE YEAR
SELECT DAY(DATE) AS DATE,UPPER(SUBSTR(CDOW(DATE),1,3)) AS DAY,UPPER(LEFT(CMONTH(DATE),3)) AS MONTH,;
subh_sadiq AS FAJR,TULU,ZAWAL,N_NAHAR AS ZOHAR,ASR_SHAFI,ASR_HANFI,GROOB,ISHA;
FROM XYZ INTO TABLE TEMP
BROWS;
NOEDIT NODELE NOAPPEND
ENDIF

IF CHO=2				&&DISPLAY FOR PARTICULAR MONTH
SELECT DAY(DATE) AS DATE,UPPER(SUBSTR(CDOW(DATE),1,3)) AS DAY,UPPER(LEFT(CMONTH(DATE),3)) AS MONTH,;
subh_sadiq AS FAJR,TULU,ZAWAL,N_NAHAR AS ZOHAR,ASR_SHAFI,ASR_HANFI,GROOB,ISHA;
WHERE MONTH(DATE)=MAHINA;
FROM XYZ INTO TABLE TEMP
BROWS;
NOEDIT NODELE NOAPPEND
ENDIF

IF CHO=3				&&DISPLAY FOR PARTICULAR DAY
SELECT DAY(DATE) AS DATE,UPPER(SUBSTR(CDOW(DATE),1,3)) AS DAY,UPPER(LEFT(CMONTH(DATE),3)) AS MONTH,;
subh_sadiq AS FAJR,TULU,ZAWAL,N_NAHAR AS ZOHAR,ASR_SHAFI,ASR_HANFI,GROOB,ISHA;
WHERE MONTH(DATE)=MAHINA AND DAY(DATE)=DIN;
FROM XYZ INTO TABLE TEMP
BROWS;
NOEDIT NODELE NOAPPEND
ENDIF

IF CHO=4				&&DISPLAY FOR BETWEEN PARTICULAR DATES
SELECT DAY(DATE) AS DATE,UPPER(SUBSTR(CDOW(DATE),1,3)) AS DAY,UPPER(LEFT(CMONTH(DATE),3)) AS MONTH,;
subh_sadiq AS FAJR,TULU,ZAWAL,N_NAHAR AS ZOHAR,ASR_SHAFI,ASR_HANFI,GROOB,ISHA;
WHERE DATE>=MDT1 AND DATE<=MDT2;
FROM XYZ INTO TABLE TEMP
BROWS;
NOEDIT NODELE NOAPPEND
ENDIF

IF CHO=5				&&DISPLAY FOR RAMAZAN
SELECT DAY(DATE) AS DATE,UPPER(SUBSTR(CDOW(DATE),1,3)) AS DAY,UPPER(LEFT(CMONTH(DATE),3)) AS MONTH,;
subh_sadiq AS SEHER,GROOB AS IFTAR;
WHERE DATE>=MDT1 AND DATE<=MDT2;
FROM XYZ INTO TABLE TEMP
BROWS;
NOEDIT NODELE NOAPPEND
ENDIF

CLEAR
DEAC WIND ENTRY
RELEASE WINDOW ENTRY
RELEASE WINDOW W1
CLOS ALL
RETURN

PROCEDURE PRINT
CLEAR
USE XYZ
SET DECIMAL TO 0
DO CASE
CASE CHO=1
mdt1=0
mdt2=0
CHOI=0
REPORT FORM XYZ PREV
REPORT FORM XYZ TO PRINT PROMPT
CLEAR WIND
CLEAR
CASE CHO=2
mdt1=0
mdt2=0
CHOI=0
REPORT FORM XYZ PREV FOR MONTH(DATE)=MAHINA
REPORT FORM XYZ TO PRINT PROMPT FOR MONTH(DATE)=MAHINA
CLEAR WIND
CLEAR
CASE CHO=3
mdt1=0
mdt2=0
CHOI=0
REPORT FORM XYZ PREV FOR MONTH(DATE)=MAHINA AND DAY(DATE)=DIN
REPORT FORM XYZ TO PRINT PROMPT FOR MONTH(DATE)=MAHINA AND DAY(DATE)=DIN
CLEAR WIND
CLEAR
CASE CHO=4
CHOI=0
REPORT FORM XYZ PREV FOR BETWEEN(DATE,MDT1,MDT2)
REPORT FORM XYZ TO PRINT PROMPT FOR BETWEEN(DATE,MDT1,MDT2)
CLEAR WIND
CLEAR
CASE CHO=5
CHOI=0
REPORT FORM XYZ PREV FOR BETWEEN(DATE,MDT1,MDT2)
REPORT FORM XYZ TO PRINT PROMPT FOR BETWEEN(DATE,MDT1,MDT2)
CLEAR WIND
CLEAR
ENDCASE
